<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200&display=swap" rel="stylesheet" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
 <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,200;1,100&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js">

   
</script>


  <style>
    @keyframes pulsar {
    0% {
        transform: scale(0.1);
        opacity: 0;
    }
    
    50% {
        opacity: 1;
    }
    
    100% {
        transform: scale(1);
        opacity: 0;
    }
}
    body {
      background-color: #120d19;

    
    }
    .enterRoomDiv{
      background-color:red
    }
    select{
      background-color:#183d59;
      border-radius:8px;
      border:2px solid #0b2538;
      margin:10px;
      width:30%;
      padding:5px;

    }
     select:focus {
       padding:5px;
       
    box-shadow: 0 0 0 0;
    outline: 0;
}
    #checks{
      
        width:90%;
    display:flex;

    flex-direction:column;
      z-index:2;
    }
    #win{
      font-family: 'Raleway', sans-serif;
      color:white;
    }

    #btnStart,
    #sala {
      padding: 15px;  

    }

    .divStartReset {
      width: 90%;

      flex-direction: column;
      position: absolute;
      display: flex;
      justify-content: center;
      align-items: center;
      visibility: visible;

    }



    ul {
      display: flex;
      margin: 20px;
      color: rgb(255, 255, 255);
      height: auto;
    }

    .list {
      margin: -5px;
      display: flex;
    }
  
    .listOp {
      
      display: flex;
      transform: rotate(90deg);
    }
    .game {
    
      display: flex;
     
      
    }
#game{
 grid-column:4;
      padding:0px;
}
    .card {

      -webkit-box-shadow: -7px 2px 15px -1px rgba(0,0,0,0.78); 
box-shadow: -7px 2px 15px -1px rgba(0,0,0,0.78);
      font-family: "Plus Jakarta Sans", sans-serif;
      cursor: pointer;
      padding-right: 2px;
      width: 75px;
      height: 115px;
      display: flex;
      justify-content: space-around;
      text-align: center;
      align-items: center;
      flex-direction: column;
      border-radius: 7px;
      font-size: 23px;
      z-index:2;
    }
    
    .cardOp{
    
  
      -webkit-box-shadow: -7px 2px 15px -1px rgba(0,0,0,0.78); 
box-shadow: -7px 2px 15px -1px rgba(0,0,0,0.78);
      cursor: pointer;
      padding-right: 2px;
      width: 40px;
      height: 60px;
       margin: 0px;
      display: flex;
      justify-content: space-around;
      text-align: center;
      align-items: center;
      flex-direction: column;
      border-radius: 8px;
    }
       .cardOpl{
         
      -webkit-box-shadow: -7px 2px 15px -1px rgba(0,0,0,0.78); 
box-shadow: -7px 2px 15px -1px rgba(0,0,0,0.78);
      cursor: pointer;
      padding-right: 2px;
      width: 60px;
      height: 40px;
      margin: 0px;
      display: flex;
      justify-content: space-around;
      text-align: center;
      align-items: center;
      flex-direction: column;
      border-radius: 8px;
    }


    .card:hover {
      transition-duration: 500ms;
      -webkit-transform: scale(1.2);
      -moz-transform: scale(1.2);
      -o-transform: scale(1.2);
      transform: scale(1.2);
      z-index:4;
    }

    .push {
      visibility:hidden;
      -webkit-touch-callout: none;
      /* iPhone OS, Safari */
      -webkit-user-select: none;
      /* Chrome, Safari 3 */
      -khtml-user-select: none;
      /* Safari 2 */
      -moz-user-select: none;
      /* Firefox */
      -ms-user-select: none;
      /* IE10+ */
      user-select: none;
      cursor: pointer;
      margin: 10px;
      position: absolute;
      background-color: rgb(36, 36, 36);
      font-family: "Plus Jakarta Sans", sans-serif;
      cursor: pointer;
      padding-right: 2px;
      width: 80px;
      height: 120px;
      display: flex;
      justify-content: space-around;
      text-align: center;
      align-items: center;
      flex-direction: column;
      border-radius: 8px;
      font-size: 25px;
    }

    .push:hover {
      transition-duration: 400ms;

      transform: scale(1.1);
    }

    #cornerDown {
      font-size: 8px;
      float: right;
      right: 0px;
            
    }

    .cornerDownDiv {
      padding-right: 10px;
      width: 100%;
      text-align: right;

    }

    .cornerUpDiv {
      padding-left: 10px;
      width: 100%;
      text-align: left;
   
    }

    #cornerUp {
      font-size: 8px;
      float: left;
      right: 0px;
        
    }


    .decksMain {
      padding-top: 50px;
      -webkit-touch-callout: none;
      /* iPhone OS, Safari */
      -webkit-user-select: none;
      /* Chrome, Safari 3 */
      -khtml-user-select: none;
      /* Safari 2 */
      -moz-user-select: none;
      /* Firefox */
      -ms-user-select: none;
      /* IE10+ */
      user-select: none;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      height: 90vh;
    }
    .decks {
      -webkit-touch-callout: none;
      /* iPhone OS, Safari */
      -webkit-user-select: none;
      /* Chrome, Safari 3 */
      -khtml-user-select: none;
      /* Safari 2 */
      -moz-user-select: none;
      /* Firefox */
      -ms-user-select: none;
      /* IE10+ */
      user-select: none;
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      justify-items: center;
      align-items: center;
      flex-direction: column;
      height:80%;
      width:80%;
  
    }

    #joker {
      visibility: hidden;
      position: fixed;
      right: 0px;
      top: 0px;
      width: 100px;
      height: 100px;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    .Yellow:hover,
    .Green:hover,
    .Blue:hover,
    .Red:hover {
      transition-duration: 500ms;
      -webkit-transform: scale(1.2);
      -moz-transform: scale(1.2);
      -o-transform: scale(1.2);
      transform: scale(1.2);
    }

    .Yellow,
    .Green,
    .Blue,
    .Red {
      border: 1px solid white;
      padding: 20px;
      border-radius: 5px;
      margin: 2px;
      cursor: pointer;
    }

    .Yellow {
      background-color: yellow;

    }

    .Green {
      background-color: green;

    }

    .Blue {
      background-color: blue;


    }

    .Red {
      background-color: red;

    }

    .u {
      display: flex;
    }

    .d {
      display: flex;
    }

    .circle {
      transform: rotate(45deg);
      width: 30px;
      height: 30px;
      border-left: 1px solid yellow;
      border-top: 1px solid green;
      border-right: 1px solid red;
      border-bottom: 1px solid rgb(0, 60, 255);
      border-radius: 50%;
    }

    .circleUD {
      transform: rotate(45deg);
      border-left: 1px solid yellow;
      border-top: 1px solid green;
      border-right: 1px solid red;
      border-bottom: 1px solid rgb(0, 60, 255);
      width: 8px;
      height: 8px;
      border-radius: 50%;
            z-index: -1;
    }

    .circleBlock {
      display: flex;
      justify-content: center;
      align-items: center;
      border: 2px solid rgb(255, 255, 255);
      border-radius: 50%;
      width: 30px;
      height: 30px;
    }

    .circleUDBlock {
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 50%;
      width: 8px;
      height: 8px;
      border: 1px solid rgb(255, 255, 255);
      
    }

    .diagonal {
      background-color: aliceblue;
      transform: rotate(45deg);

      border: 0.5px solid rgb(255, 255, 255);
      height: 100%;
    }

    .ulDeck {
      display:flex;
      justify-content:center;
      flex-direction:column;
      overflow-x: auto;
      overflow-y: hidden;
      max-width: 80%;
      
    }

    .ulDeck2 {
      justify-content:center;
      
      display:flex;
      flex-direction:column;
      overflow: auto;
      padding-inline:5px;
      
      height:80%;
      
    }
#deck1 {
   grid-column-start: 2;
   grid-column-end: 7;

}


#deck3 {
    grid-column: 1;
}
    #deck2{
    grid-column-start: 2;
   grid-column-end: 7;
      -webkit-box-shadow: 3px 50px 47px -4px #000000; 
box-shadow: 3px 50px 47px -4px #000000;
 
}
     #deck4 {
  grid-column:7;
 
}
    .playerInfo {
      
      box-shadow: 30px 31px 27px -11px rgba(0,0,0,0.75);
-webkit-box-shadow: 30px 31px 27px -11px rgba(0,0,0,0.75);
-moz-box-shadow: 30px 31px 27px -11px rgba(0,0,0,0.75);
      visibility:hidden;
      position: absolute;
      padding: 5px;
      height: auto;
      width: 10%;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: rgb(77, 77, 77);
      color: rgb(9, 216, 95);
      right: 10px;
      bottom: 10px;
      border-radius: 4px;
      font-size: 15px;
      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    }

    ::-webkit-scrollbar {
      width: 5px;
      background-color: #77777744;
    }

    .create {
      background-color:#183d59;
      width: 17em;
      height: auto;
      padding:5px;
      border-radius: 8px;
      margin: 10px;
      display:flex;
      justify-content:center;
      align-items:center;
      flex-direction:column;
box-shadow: 0px -14px 36px -3px rgba(0,0,0,0.75);
-webkit-box-shadow: 0px -14px 36px -3px rgba(0,0,0,0.75);
-moz-box-shadow: 0px -14px 36px -3px rgba(0,0,0,0.75);

    }



    
#userNameSala, #userNameUs{
font-family: 'Raleway', sans-serif;
  width:90%;
  
}
    input ,button{
      font-family: 'Raleway', sans-serif;
  border:none;
  padding:15px;

   margin:10px;
}
    input:focus, input:focus {
    box-shadow: 0 0 0 0;
    
    outline: 0;
}
   .btnStart{
        background-color: #120d19;
     border:2px solid #1e4867;
      color:white;
     width:60%;
       border-radius:5px;
     cursor:pointer;

    }
    .btnStart:hover{
      box-shadow: -3px 7px 21px 0px rgba(0,0,0,0.75);
-webkit-box-shadow: -3px 7px 21px 0px rgba(0,0,0,0.75);
-moz-box-shadow: -3px 7px 21px 0px rgba(0,0,0,0.75);
      transition:0.4s;
      background-color: #1e4867;
    }
  .inputsCreate{
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column
  }
    .divBtn{
      display:flex;
      justify-content:center;
     
      width:auto;
    }
    #cardOponent{
      width:100%;
      height:100%;
    }
  #list{

  font-family: 'Raleway', sans-serif;
  display:flex;
  flex-direction:column;
  justify-content:left;
  align-items:left;
  text-align:left;
  padding:0;
  margin:6px;
  margin-left:25px;
  font-size:15px;
  color:#02d911;
}
    
    .listPlayer{
      visibility:hidden;
      display:flex;
      margin:5px;
      flex-direction:column;
      position:absolute;
      right:0px;
      width:100px;
      height:auto;
      border-radius:8px;
      background-color:#5e0355;
    }
    #spanPlayer {
      margin:5px;
      font-size:12px;
    }
    #dp3{
      display:none;
    }
    #dp4{
      display:none;
    }
    #lista3  , #lista4{
      display: inline-block;
    }
    #lista, #lista2 ,#lista3 , #lista4{
            padding:0px;
    }
    .spanP{
      text-align:right;
      color:white;
    }
    #spanP1{
      position:absolute;
      bottom: 12px;
      left:50%;
      visibility:hidden;
    }
    .check{
      
      display: flex;
      justify-content:space-between;
      align-items: center;
      padding:2px;
      background-color:#12334b;
      color:white;
      margin:3px;
      
    }
    .inpT{
      background-color:#183d59;
        border-bottom:2px solid #0e283a;
      color:white;
    } 
#userNameSala:focus, #userNameUs:focus{
  transition:0.6s;
  width:100%;
}

    .checkbox{
    color:red;
    margin: 5px;
    width: 20px;
    height: 20px;

    }
    #createdRoom{
      visibility:hidden;
      display: flex;
      justify-content:space-between;
      align-items:center;
      text-align:center;
      width:18em;
      border-radius:5px;
      background-color:#1d0b36;
      margin:10px;
      
    }
    .createdRoom button{
      padding:5px;
      background-color:#1d0b36;
      border:2px solid#2e1652;
      border-radius:5px;
      color:white;
      cursor:pointer;
    }
    
    .createdRoom span{
      margin:10px;
      color:white;
    }
    .btnSearch{
    margin:8px;
    background-color:#1d0b36;
    cursor:pointer;
    height:20px;
    width:20px;
    color:white;
    padding:5px;
    }
    .check div{
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .check span{
      margin:5px;
    }
    .on{
      visibility:hidden;
    }
    .btnExit{
    background-color: #120d19;
    border:2px solid #1e4867;
    color:white;
    border-radius:5px;
    cursor: pointer;
    margin: 5px;
    font-size: 20px;
    font-family: "Plus Jakarta Sans", sans-serif;
    padding:20px;
    }
    

  </style>
  
  <title>Uno Minimalista</title>
</head>

<body>
  <div id="listPlayer" class="listPlayer">
    <span id="spanPlayer">Players Online:</span>
    <ul id="list">
    </ul>
  </div>
  <div class="push" id="pushId" onClick="push()">
    Push
  </div>
  <div class="decksMain" id="dk"> 
    <div class="decks" >
        <span class="spanP" id="spanP1">player</span>
      
    <div class="ulDeck" id="deck1">
      <ul id="lista"></ul>
 
    </div>
      
     <div class="ulDeck2" id="deck3">
      <ul id="lista3"></ul>
        
    </div>
    <div class="divStartReset" id="sala">
      
      <div>
             <div class="create" id="createSala">
        <div id="checks">
         <div style="display:flex; align-items:center;justify-content:space-between;"> <label>N. de jogadores</label>
      <select id="Idselect" >
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option> 
      </select></div>
          <div class="divchecks">
                <div id="dp1" class="check">
      <div>
         <input type="checkbox" class="checkbox"  id="p1" />
      <label>Player 1/Criador</label>
      </div>

            </div>
    <div id="dp2" class="check">
      <div>
         <input type="checkbox" class="checkbox" onclick="hiddenRoomName()"  id="p2" />
      <label>Player 2</label>
      </div>
   <span id="on2" class="on">on</span>
    </div>
            <div id="dp3" class="check">
      <div>
         <input type="checkbox" class="checkbox" onclick="hiddenRoomName()"  id="p3" />
      <label>Player 3</label>
      </div>
   <span id="on3" class="on">on</span>
            </div>
            <div id="dp4" class="check">
     <div>
         <input type="checkbox" class="checkbox" onclick="hiddenRoomName()"  id="p4" />
      <label>Player 4</label>
      </div>
   <span id="on4" class="on">on</span>
            </div>

            
          </div>
  
    </div>
        <div class="inputsCreate">
          
           <input type="text" autocomplete="off" class="inpT" name="nomedasala"   placeholder="Nome da Sala"  id="userNameSala">
        <input type="text" class="inpT"  name="nick" autocomplete="off"    placeholder="Usuario"  id="userNameUs">
        </div>
         
      </div>
 <div class="divBtn" >
        <input type="button" class="btnStart" id="btnStart" onClick="startCreate()" value="Criar Sala" />
      </div>
      </div>

      <div class=¨enterRoomDiv¨>


      <div>
              <span onClick="searchRoom()" class="btnSearch">  ↓ Sala criada ↓     </span>
        
      </div>
      </div>
    
      

      <div class="createdRoom" id="createdRoom">
        <span id="nameRoomEnter"></span>
        <button   onClick="beforeEnterRoom()">Enter</button>
      </div>
    </div>

    <ul id="game"></ul>
    
  
 
    <div class="ulDeck2" id="deck4">
      <ul id="lista4"></ul>
           
    </div>
       <div class="ulDeck" id="deck2">
      <ul id="lista2"></ul>
              
    </div>

    
  </div></div>
 



  <div id="joker" class="joker">
    <div class="u">
      <div id="y" onClick="chooseColor('#f7f01e',false, 50)" class="Yellow"></div>
      <div id="g" onClick="chooseColor('#67bd42',false, 50)" class="Green"></div>
    </div>
    <div class="d">
      <div id="b" onClick="chooseColor('#133fc2',false, 50)" class="Blue"></div>
      <div id="r" onClick="chooseColor('#d60b11',false, 50)" class="Red"></div>
    </div>

  </div>



  <div class="playerInfo" id="playerInfo">
    <span id="id">...</span>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    
    
      swal({
    text: "Selecione qual player voce é",
    icon: "warning",
    button: "Blz",
  })



    
    var socket = io();
    const cards = [
      {
        cod: "B+4",
        color: "#0f0f0f",
        number: "M4",
      },
      {
        cod: "B+4",
        color: "#0f0f0f",
        number: "M4",
      },
      {
        cod: "B+4",
        color: "#0f0f0f",
        number: "M4",
      },
      {
        cod: "B+4",
        color: "#0f0f0f",
        number: "M4",
      },
      {
        cod: "R+2",
        color: "#d60b11",
        number: "M2",
      },
      {
        cod: "R1",
        color: "#d60b11",
        number: 1,
      },
      {
        cod: "BlockR",
        color: "#d60b11",
        number: "@",
      },
      {
        cod: "R2",
        color: "#d60b11",
        number: 2,
      },
      {
        cod: "R3",
        color: "#d60b11",
        number: 3,
      },
      {
        cod: "R4",
        color: "#d60b11",
        number: 4,
      },
      {
        cod: "R5",
        color: "#d60b11",
        number: 5,
      },
      {
        cod: "R6",
        color: "#d60b11",
        number: 6,
      },
      {
        cod: "R7",
        color: "#d60b11",
        number: 7,
      },
      {
        cod: "R8",
        color: "#d60b11",
        number: 8,
      },
      {
        cod: "R9",
        color: "#d60b11",
        number: 9,
      },
      {
        cod: "G1",
        color: "#67bd42",
        number: 1,
      },
      {
        cod: "BlockG",
        color: "#67bd42",
        number: "@",
      },
      {
        cod: "G+2",
        color: "#67bd42",
        number: "M2",
      },
      {
        cod: "G2",
        color: "#67bd42",
        number: 2,
      },
      {
        cod: "G3",
        color: "#67bd42",
        number: 3,
      },
      {
        cod: "G4",
        color: "#67bd42",
        number: 4,
      },
      {
        cod: "G5",
        color: "#67bd42",
        number: 5,
      },
      {
        cod: "G6",
        color: "#67bd42",
        number: 6,
      },
      {
        cod: "G7",
        color: "#67bd42",
        number: 7,
      },
      {
        cod: "G8",
        color: "#67bd42",
        number: 8,
      },
      {
        cod: "G9",
        color: "#67bd42",
        number: 9,
      },
      {
        cod: "B1",
        color: "#133fc2",
        number: 1,
      },
      {
        cod: "BlockB",
        color: "#133fc2",
        number: "@",
      },
      {
        cod: "B+2",
        color: "#133fc2",
        number: "M2",
      },
      {
        cod: "B2",
        color: "#133fc2",
        number: 2,
      },
      {
        cod: "B3",
        color: "#133fc2",
        number: 3,
      },
      {
        cod: "B4",
        color: "#133fc2",
        number: 4,
      },
      {
        cod: "B5",
        color: "#133fc2",
        number: 5,
      },
      {
        cod: "B6",
        color: "#133fc2",
        number: 6,
      },
      {
        cod: "B7",
        color: "#133fc2",
        number: 7,
      },
      {
        cod: "B8",
        color: "#133fc2",
        number: 8,
      },
      {
        cod: "B9",
        color: "#133fc2",
        number: 9,
      },
      {
        cod: "Y1",
        color: "#f7f01e",
        number: 1,
      },
      {
        cod: "BlockY",
        color: "#f7f01e",
        number: "@",
      },
      {
        cod: "Y+2",
        color: "#f7f01e",
        number: "M2",
      },
      {
        cod: "Y1",
        color: "#f7f01e",
        number: 2,
      },
      {
        cod: "Y3",
        color: "#f7f01e",
        number: 3,
      },
      {
        cod: "Y4",
        color: "#f7f01e",
        number: 4,
      },
      {
        cod: "Y5",
        color: "#f7f01e",
        number: 5,
      },
      {
        cod: "Y6",
        color: "#f7f01e",
        number: 6,
      },
      {
        cod: "Y7",
        color: "#f7f01e",
        number: 7,
      },
      {
        cod: "Y8",
        color: "#f7f01e",
        number: 8,
      },
      {
        cod: "Y9",
        color: "#f7f01e",
        number: 9,
      },
      {
        cod: "Joker",
        color: "#0f0f0f",
        number: "()",
      },
      {
        cod: "Joker",
        color: "#0f0f0f",
        number: "()",
      },
      {
        cod: "Joker",
        color: "#0f0f0f",
        number: "()",
      },
      {
        cod: "Joker",
        color: "#0f0f0f",
        number: "()",
      },
    ];
    var room = document.getElementById('sala')
    var playerInfo = document.getElementById("id");
    var p1 = document.getElementById("p1");
    var p2 = document.getElementById("p2");
    var p3 = document.getElementById("p3");
    var p4 = document.getElementById("p4");
    var waitList = document.getElementById('waitList')
    var userNameSala = document.getElementById("userNameSala")
    var userNameUs = document.getElementById("userNameUs")


    function hiddenRoomName() {
      var none = "none";
      var check = "true";

    var userNameSala = document.getElementById("userNameSala")
    userNameSala.style.display = none;
    var btnStart = document.getElementById("btnStart")
    var none = "none";
    btnStart.style.display = none;
    searchRoom()
}

 document.querySelector('select').addEventListener('change', function(){


  var visible = "flex";
  var none = "none";
  var check = "true"
  var dp2= document.getElementById("dp2");
  var dp3 = document.getElementById("dp3");
  var dp4 = document.getElementById("dp4");
  let select = document.getElementById('Idselect')
  let value = select.options[select.selectedIndex].value;

console.log(value)
    if(value == 2){

      dp3.style.display = none;
      dp4.style.display = none;
   }
    if(value == 3){

    dp3.style.display = visible;
    dp4.style.display = none;
   }
    if(value == 4){
   
      dp4.style.display = visible;
      dp3.style.display = visible;
 
   }

     
   
});

    socket.on('msg',(req) =>{
      alert(req)
    } )
    
    function searchRoom(){
        console.log("procurando....")
        socket.emit('searchRoom')
      }
    
    function beforeEnterRoom(p) {
  if(p2.checked){
       socket.emit('verificationUsers',2)
  }else if(p3.checked){
       socket.emit('verificationUsers',3)
  }else if(p4.checked){
       socket.emit('verificationUsers',4)
  }
   
   
   
    }
  
    function startCreate() {
      
  var createdRoom = document.getElementById("createdRoom")
  var visible = "visible";
  var hidden = "hidden";
  createdRoom.style.visibility = hidden;
  let select = document.getElementById('Idselect')
  let value = select.options[select.selectedIndex].value;
        if ( userNameUs.value == "" || userNameSala.value == "" ) {
         
              swal({
    text: "Preencha todos os campos",
    icon: "warning",
    button: "Ok",
  })
          
     
      }else if(!p1.checked && !p2.checked && !p3.checked && !p4.checked){
          
          alert("Selecione um player")
      }
        else{

    if(value == 2){
    socket.emit('start', userNameUs.value , userNameSala.value , 2)
   }
    if(value == 3){
    socket.emit('start', userNameUs.value , userNameSala.value, 3 )
   }
    if(value == 4){
    socket.emit('start', userNameUs.value , userNameSala.value , 4)

   }
  

      }
    }

    function show(d1,d2,d3,d4, name) {

     
      var lista2 = document.getElementById("lista2");
      var lista = document.getElementById("lista");
      var lista3 = document.getElementById("lista3");
      var lista4 = document.getElementById("lista4");
      var sp1 = document.getElementById("spanP1");
       
      lista2.innerHTML = "";
      lista.innerHTML = "";   
      lista3.innerHTML = "";
      lista4.innerHTML = "";
      sp1.style.visibility = 'visible'
      sp1.textContent = `${userNameUs.value}`
    
      let select = document.getElementById('Idselect')
      let value = select.options[select.selectedIndex].value;
      console.log("mostrando..")

      if (value == 2) {
   
          if (p1.checked) {
        for (let i = 0; i < d2.length; i++) {
        lista.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOp" id="${i}" onClick=""> 
()
    </div></li>`;
      }
                      for (let i = 0; i < d1.length; i++) {
        lista2.innerHTML += `<li class="list">
    <div style="background-color:${cards[d1[i]].color
          }" class="card" id="${i}" onClick="playCard(${d1[i]} , ${i} , 1)"> 
    <div class="cornerUpDiv">
    <span id="cornerUp">
      ${specialCard(
            cards[d1[i]].number,
            "u"
          )}</span> </div>
       <span> ${specialCard(
            cards[d1[i]].number,
            "m"
          )}
      </span> 
    <div class="cornerDownDiv">
    <span id="cornerDown">${specialCard(
            cards[d1[i]].number,
            "d"
          )}</span></div> 
    </div></li>`;
      }
      } 


          if (p2.checked) {
        for (let i = 0; i < d1.length; i++) {
        lista.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOp" id="${i}" onClick=""> 
  ()

    </div></li>`;
      }
            for (let i = 0; i < d2.length; i++) {
        lista2.innerHTML += `<li class="list">
    <div  style="background-color:${cards[d2[i]].color
          };" class="card" id="${i}" onClick="playCard(${d2[i]} , ${i} , 2)"> 
    <div class="cornerUpDiv">
    <span id="cornerUp">
      ${specialCard(
            cards[d2[i]].number,
            "u"
          )}</span> </div>
       <span> ${specialCard(
            cards[d2[i]].number,
            "m"
          )}
      </span> 
    <div class="cornerDownDiv">
    <span id="cornerDown">${specialCard(
            cards[d2[i]].number,
            "d"
          )}</span></div> 
    </div></li>`;


      } 
      }

  }
      if (value == 3) {
        if (p1.checked) {
        for (let i = 0; i < d3.length; i++) {
        lista.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOp" id="${i}" onClick=""> 
()
    </div></li>`;
      }

        for (let i = 0; i < d2.length; i++) {
        lista3.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOpl" id="${i}" onClick=""> 
()
    </div></li>`;
      }
               
                      for (let i = 0; i < d1.length; i++) {
        lista2.innerHTML += `<li class="list">
    <div style="background-color:${cards[d1[i]].color
          }" class="card" id="${i}" onClick="playCard(${d1[i]} , ${i} , 1)"> 
    <div class="cornerUpDiv">
    <span id="cornerUp">
      ${specialCard(
            cards[d1[i]].number,
            "u"
          )}</span> </div>
       <span> ${specialCard(
            cards[d1[i]].number,
            "m"
          )}
      </span> 
    <div class="cornerDownDiv">
    <span id="cornerDown">${specialCard(
            cards[d1[i]].number,
            "d"
          )}</span></div> 
    </div></li>`;
      }
      } 
    if (p2.checked) {
        for (let i = 0; i < d1.length; i++) {
        lista.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOp" id="${i}" onClick=""> 
  ()

    </div></li>`;
      }
         for (let i = 0; i < d3.length; i++) {
        lista3.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOpl" id="${i}" onClick=""> 
  ()

    </div></li>`;
      }
            for (let i = 0; i < d2.length; i++) {
        lista2.innerHTML += `<li class="list">
    <div  style="background-color:${cards[d2[i]].color
          };" class="card" id="${i}" onClick="playCard(${d2[i]} , ${i} , 2)"> 
    <div class="cornerUpDiv">
    <span id="cornerUp">
      ${specialCard(
            cards[d2[i]].number,
            "u"
          )}</span> </div>
       <span> ${specialCard(
            cards[d2[i]].number,
            "m"
          )}
      </span> 
    <div class="cornerDownDiv">
    <span id="cornerDown">${specialCard(
            cards[d2[i]].number,
            "d"
          )}</span></div> 
    </div></li>`;


      } 
      }
        
        if (p3.checked) {
        for (let i = 0; i < d2.length; i++) {
        lista.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOp" id="${i}" onClick=""> 
()
    </div></li>`;
      }

            for (let i = 0; i < d1.length; i++) {
        lista3.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOpl" id="${i}" onClick=""> 
  ()

    </div></li>`;
      }
          
                      for (let i = 0; i < d3.length; i++) {
        lista2.innerHTML += `<li class="list">
    <div style="background-color:${cards[d3[i]].color
          }" class="card" id="${i}" onClick="playCard(${d3[i]} , ${i} , 3)"> 
    <div class="cornerUpDiv">
    <span id="cornerUp">
      ${specialCard(
            cards[d3[i]].number,
            "u"
          )}</span> </div>
       <span> ${specialCard(
            cards[d3[i]].number,
            "m"
          )}
      </span> 
    <div class="cornerDownDiv">
    <span id="cornerDown">${specialCard(
            cards[d3[i]].number,
            "d"
          )}</span></div> 
    </div></li>`;
      }
      }

      }
      if (value == 4) {
        if (p1.checked) {
            for (let i = 0; i < d4.length; i++) {
        lista4.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOpl" id="${i}" onClick=""> 
()
    </div></li>`;
      }
        for (let i = 0; i < d3.length; i++) {
        lista.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOp" id="${i}" onClick=""> 
()
    </div></li>`;
      }

        for (let i = 0; i < d2.length; i++) {
        lista3.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOpl" id="${i}" onClick=""> 
()
    </div></li>`;
      }
               
                      for (let i = 0; i < d1.length; i++) {
        lista2.innerHTML += `<li class="list">
    <div style="background-color:${cards[d1[i]].color
          }" class="card" id="${i}" onClick="playCard(${d1[i]} , ${i} , 1)"> 
    <div class="cornerUpDiv">
    <span id="cornerUp">
      ${specialCard(
            cards[d1[i]].number,
            "u"
          )}</span> </div>
       <span> ${specialCard(
            cards[d1[i]].number,
            "m"
          )}
      </span> 
    <div class="cornerDownDiv">
    <span id="cornerDown">${specialCard(
            cards[d1[i]].number,
            "d"
          )}</span></div> 
    </div></li>`;
      }
      } 
        if (p2.checked) {
        for (let i = 0; i < d4.length; i++) {
        lista.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOp" id="${i}" onClick=""> 
  ()

    </div></li>`;
      }
              for (let i = 0; i < d1.length; i++) {
        lista4.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOpl" id="${i}" onClick=""> 
()
    </div></li>`;
      }
         for (let i = 0; i < d3.length; i++) {
        lista3.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOpl" id="${i}" onClick=""> 
  ()

    </div></li>`;
      }
            for (let i = 0; i < d2.length; i++) {
        lista2.innerHTML += `<li class="list">
    <div  style="background-color:${cards[d2[i]].color
          };" class="card" id="${i}" onClick="playCard(${d2[i]} , ${i} , 2)"> 
    <div class="cornerUpDiv">
    <span id="cornerUp">
      ${specialCard(
            cards[d2[i]].number,
            "u"
          )}</span> </div>
       <span> ${specialCard(
            cards[d2[i]].number,
            "m"
          )}
      </span> 
    <div class="cornerDownDiv">
    <span id="cornerDown">${specialCard(
            cards[d2[i]].number,
            "d"
          )}</span></div> 
    </div></li>`;


      } 
      }
        if (p3.checked) {
        for (let i = 0; i < d1.length; i++) {
        lista.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOp" id="${i}" onClick=""> 
()
    </div></li>`;
      }

            for (let i = 0; i < d4.length; i++) {
        lista3.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOpl" id="${i}" onClick=""> 
  ()

    </div></li>`;
      }
                  for (let i = 0; i < d2.length; i++) {
        lista4.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOpl" id="${i}" onClick=""> 
  ()

    </div></li>`;
      }
          
                      for (let i = 0; i < d3.length; i++) {
        lista2.innerHTML += `<li class="list">
    <div style="background-color:${cards[d3[i]].color
          }" class="card" id="${i}" onClick="playCard(${d3[i]} , ${i} , 3)"> 
    <div class="cornerUpDiv">
    <span id="cornerUp">
      ${specialCard(
            cards[d3[i]].number,
            "u"
          )}</span> </div>
       <span> ${specialCard(
            cards[d3[i]].number,
            "m"
          )}
      </span> 
    <div class="cornerDownDiv">
    <span id="cornerDown">${specialCard(
            cards[d3[i]].number,
            "d"
          )}</span></div> 
    </div></li>`;
      }
      }   
        if (p4.checked) {
        for (let i = 0; i < d2.length; i++) {
        lista.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOp" id="${i}" onClick=""> 
()
    </div></li>`;
      }

            for (let i = 0; i < d1.length; i++) {
        lista3.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOpl" id="${i}" onClick=""> 
  ()

    </div></li>`;
      }
               for (let i = 0; i < d3.length; i++) {
        lista4.innerHTML += `<li class="list">
    <div style="background-color:grey" class="cardOpl" id="${i}" onClick=""> 
  ()

    </div></li>`;
      }
          
          
                      for (let i = 0; i < d4.length; i++) {
        lista2.innerHTML += `<li class="list">
    <div style="background-color:${cards[d4[i]].color
          }" class="card" id="${i}" onClick="playCard(${d4[i]} , ${i} , 4)"> 
    <div class="cornerUpDiv">
    <span id="cornerUp">
      ${specialCard(
            cards[d4[i]].number,
            "u"
          )}</span> </div>
       <span> ${specialCard(
            cards[d4[i]].number,
            "m"
          )}
      </span> 
    <div class="cornerDownDiv">
    <span id="cornerDown">${specialCard(
            cards[d4[i]].number,
            "d"
          )}</span></div> 
    </div></li>`;
      }
      }
      }
  
    document.getElementById("lista").lastChild.scrollIntoView();
    document.getElementById("lista2").lastChild.scrollIntoView();
    document.getElementById("lista3").lastChild.scrollIntoView();
    document.getElementById("lista4").lastChild.scrollIntoView();
    }

    function enterRoom() {
        let select = document.getElementById('Idselect')
    let value = select.options[select.selectedIndex].value;
      var nameRoomEnter = document.getElementById("nameRoomEnter");
      console.log(nameRoomEnter.innerText)
              
        if ( userNameUs.value == "" ) {
         
              swal({
    text: "Digite seu nome",
    icon: "warning",
    button: "Ok",
  })
          
     
      }else if(!p1.checked && !p2.checked && !p3.checked && !p4.checked){
          
          alert("Selecione um player")
      }else{
    if(value == 2){
      if(nameRoomEnter.innerText != "-"){
           socket.emit('start', userNameUs.value , nameRoomEnter.innerText , 2)
      }
   }
    if(value == 3){
      if(nameRoomEnter.innerText != "-"){
 socket.emit('start', userNameUs.value , nameRoomEnter.innerText , 3 )
      }
   }
    if(value == 4){
      if(nameRoomEnter.innerText != "-"){
    socket.emit('start', userNameUs.value , nameRoomEnter.innerText , 4)
      }

   }
      }
           var createdRoom = document.getElementById("createdRoom")
           var visible = "visible";
      var hidden = "hidden";
      createdRoom.style.visibility = hidden;

    }

    socket.on('verificationUsers',(p, vorf)=>{
        if(vorf){
           alert("O player "+ p+" Ja está na sala ")
        
        }else{
          enterRoom()
        }
       
      })

    socket.on('showRoom' ,(showR) =>{
      console.log(">>>>>>>>>>>>>>>>>>>>>"+showR)
                  var nameRoomEnter = document.getElementById("nameRoomEnter")
 
                   var createdRoom = document.getElementById("createdRoom")
           var visible = "visible";
      var hidden = "hidden";
      createdRoom.style.visibility = visible;
      if(showR != null){
              nameRoomEnter.textContent = showR
      }else{
         nameRoomEnter.textContent = "-"

           
      }

            console.log(nameRoomEnter.innerText)
    } )
    
    socket.on('exitRoom',()=>{
      console.log('foi')
      window.location.replace("/")
    })

    socket.on('escolha', (color, vf, a3, pile) => {
      var visible = "visible";
      var hidden = "hidden";
      var joker = document.getElementById("joker");

      console.log(color);
      console.log(vf);

      if (vf) {
        joker.style.visibility = visible;
      } else {
        joker.style.visibility = hidden;
      }


      game.innerHTML = `${pile}`

    })

    function specialCard(typeCard, U, player) {
      var circleMainBlock = `<div class="circleBlock"><div class="diagonal"></div></div>`;
      var circleUBlock = `<div class="circleUDBlock"><div class="diagonal"></div></div>`;
      var circleDBlock = `<div class="circleUDBlock"><div class="diagonal"></div></div>`;
      var circleMain = `<div class="circle"></div>`;
      var circleU = `<div class="circleUD"></div>`;
      var circleD = `<div class="circleUD"></div>`;
        
    
  let select = document.getElementById('Idselect')
       let value = select.options[select.selectedIndex].value;
      if (typeCard == "()") {
        if (U == "u") {
          return circleU;
        }
        if (U == "d") {
          return circleD;
        }
        if (U == "m") {
          return circleMain;
        }
      }

      if (typeCard == "@") {
         if (value == 2){
           if (player == 1) {
          turn = 1
        }
            if (player == 2) {
          turn = 2
        }
           
    } if (value == 3){
           
           if (player == 1) {
          turn = 3
        }
            if (player == 2) {
          turn = 1
        } if (player == 3) {
          turn = 2
        }
         }
        if (value == 4){
           
           if (player == 1) {
          turn = 3
        }
            if (player == 2) {
          turn = 4
        } if (player == 3) {
          turn = 1
        }
          if (player == 4) {
          turn = 2
        }
         }
       
     
        if (U == "u") {
          return circleUBlock;
        }
        if (U == "d") {
          return circleDBlock;
        }
        if (U == "m") {
          return circleMainBlock;
        }
      }

      return typeCard;
    }

    socket.on('showPlayersOn',(users)=>{
      var listPlayer = document.getElementById('list');
      listPlayer.innerHTML = ''
      console.log(users)
        for (let i = 0; i <= users.length; i++) {
        
        if (users[i] != null) {
              console.log(' ai slg '+users[i].nome)
           listPlayer.innerHTML += `<li>${users[i].nome}</li>`
        }
       
      }
})


    function exit() {
      socket.emit('exit')
    }
    
    socket.on('win',(nome, p) => {
      var play1 = document.getElementById("deck1");
      var play2 = document.getElementById("deck2");
      var play3 = document.getElementById("deck3");
      var play4 = document.getElementById("deck4");    
      var dk = document.getElementById("dk");

      if(p == 1){
        dk.innerHTML = `<h2 id="win">O player: ${nome} ganhou a partida!!!</h2><button class="btnExit"  onClick="exit()">Sair</button>`
      }
       else if(p == 2){
        dk.innerHTML = `<h2 id="win">O player: ${nome} ganhou a partida!!!</h2><button class="btnExit"  onClick="exit()">Sair</button>`
      }else if(p == 3){
          dk.innerHTML = `<h2 id="win">O player: ${nome} ganhou a partida!!!</h2><button  class="btnExit"  onClick="exit()">Sair</button>`
      }
       else{
        dk.innerHTML = `<h2 id="win">O player: ${nome} ganhou a partida!!!</h2><button class="btnExit"  onClick="exit()">Sair</button>`
      }
    })
    
    socket.on('start', (d1,d2,d3,d4, u, p, users) => {
         
      var startbtn = document.getElementById('btnStart');
      var sala = document.getElementById('sala');
      var listPlayerDiv = document.getElementById('listPlayer');
      var listPlayer = document.getElementById('list');
      var game = document.getElementById('game');
      var push = document.getElementById("pushId");
      var Info = document.getElementById('playerInfo');
      var lista2 = document.getElementById("lista2");
      var lista = document.getElementById("lista");
      var lista2 = document.getElementById("lista3");
      var lista = document.getElementById("lista4");
      var on2 = document.getElementById("on2");
      var on3 = document.getElementById("on3");
      var on4 = document.getElementById("on4");
      var createdRoom = document.getElementById("createdRoom")
      var visible = "visible";
      var hidden = "hidden";
      createdRoom.style.visibility = hidden;
      lista2.innerHTML = "";
      lista.innerHTML = "";
      lista3.innerHTML = "";
      lista4.innerHTML = "";
      game.innerHTML = `${u}`
      console.log("fooi")
      console.log(p) 
      var visible = "visible";
      var hidden = "hidden";  
      listPlayerDiv.style.visibility = visible;
      Info.style.visibility = visible;
      push.style.visibility = visible;
      startbtn.style.visibility = hidden;
      sala.style.visibility = hidden;

      playerInfo.textContent = "Vez de: " + p
      listPlayer.innerHTML = "";
         
      for (let i = 0; i <= users.length; i++) {
        var usuOn = 0;
        if (users[i] != null) {
           listPlayer.innerHTML += `<li>${users[i].nome}🟢</li></br>`
        }
       
      }

     show(d1,d2,d3,d4)
   
    })

    function chooseColor(color, vf, scram) {
      var joker =  document.getElementById('joker');
      joker.style.visibility = 'visible'
      var show = 'hidden';
      joker.style.visibility =  show;
      socket.emit('chooseColor', color, vf, scram)
    }

    function playCard(scram, id, player) {
    
      console.log(scram)
      console.log(id)
      console.log(player)

   
         socket.emit('play', scram, id, player, sala.value)
      
               

    }

     socket.on('nTurn',() => {
                  alert("não é sua vez")
                })

    function push() {

       socket.emit('push')
    
    }

    socket.on('showCard', (d1, d2, d3,d4 ,pile, turn,users) => {
      var game = document.getElementById('game');
      var pulsar = "pulsar" 
      playerInfo.style.animation = pulsar;
      playerInfo.textContent = "Vez de: " + turn
      console.log(pile);
      game.innerHTML = `${pile}`
      var listPlayer = document.getElementById('list');
      listPlayer.innerHTML = "";
      
      for (let i = 0; i <= users.length; i++) {
        
        if (users[i] != null) {
           listPlayer.innerHTML += `<li>${users[i].nome}</li>`
        }
       
      }

      show(d1,d2,d3,d4)


    })

  </script>

</body>

</html>